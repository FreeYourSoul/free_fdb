\hypertarget{classffdb_1_1fdb__transaction}{}\doxysection{ffdb\+::fdb\+\_\+transaction Class Reference}
\label{classffdb_1_1fdb__transaction}\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}


R\+A\+II object encapsulating a F\+D\+B\+Transaction If not committed, transaction is rolled back at destruction time.  




{\ttfamily \#include $<$ffdb.\+hh$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a635cf656a435c3f63737a8d4e213d094}\label{classffdb_1_1fdb__transaction_a635cf656a435c3f63737a8d4e213d094}} 
{\bfseries fdb\+\_\+transaction} (const \mbox{\hyperlink{classffdb_1_1fdb__transaction}{fdb\+\_\+transaction}} \&)=delete
\item 
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a822ff95a573afe69303707333bc95bef}\label{classffdb_1_1fdb__transaction_a822ff95a573afe69303707333bc95bef}} 
{\bfseries fdb\+\_\+transaction} (F\+D\+B\+Database $\ast$db)
\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_ac09d2450efd1ed1d6fd1a6c66ce437b6}{enable\+\_\+snapshot}} ()
\begin{DoxyCompactList}\small\item\em Enable snapshot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_a20816970aaea286615a3d9ab9defaf10}{commit}} ()
\begin{DoxyCompactList}\small\item\em Commit the current transaction. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_a944b03ce5aaddf4464174b3a85bc8aba}{reset}} ()
\begin{DoxyCompactList}\small\item\em Reset the current transaction to its original state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_a2edfd78ad4bbafca819faf470cf4fbbc}{put}} (const std\+::string \&key, const std\+::string \&value)
\begin{DoxyCompactList}\small\item\em Insert a new key / value pair in foundationdb. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_aefcc15e4b73d35b083815b0b40771fb0}{del}} (const std\+::string \&key)
\begin{DoxyCompactList}\small\item\em Remove a selected key from the DB. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classffdb_1_1fdb__transaction_aeff438de4c0e7d5d0310dca6b9536565}{del\+\_\+range}} (const std\+::string \&key\+\_\+begin, const std\+::string \&key\+\_\+end)
\begin{DoxyCompactList}\small\item\em Delete the range of key value between the provided begin and end inclusive. \end{DoxyCompactList}\item 
F\+D\+B\+Transaction $\ast$ \mbox{\hyperlink{classffdb_1_1fdb__transaction_a8bd1861b1f4dd0361da5244a681e18a5}{raw}} () const
\item 
std\+::optional$<$ \mbox{\hyperlink{structffdb_1_1fdb__result}{fdb\+\_\+result}} $>$ \mbox{\hyperlink{classffdb_1_1fdb__transaction_a56da24525cb4a3b73840cf3ce5fb729a}{get}} (const std\+::string \&key)
\begin{DoxyCompactList}\small\item\em Get the key value at the specified key in foundationdb. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structffdb_1_1range__result}{range\+\_\+result}} \mbox{\hyperlink{classffdb_1_1fdb__transaction_a957417155dc46f4edd9a3452d6d4e1d9}{get\+\_\+range}} (const std\+::string \&from, const std\+::string \&to, \mbox{\hyperlink{structffdb_1_1range__options}{range\+\_\+options}} opt=\{\})
\begin{DoxyCompactList}\small\item\em Efficiently retrieve a full (depending on the potential limitation in the given option) range following the provided options. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
R\+A\+II object encapsulating a F\+D\+B\+Transaction If not committed, transaction is rolled back at destruction time. 

\begin{DoxySeeAlso}{See also}
\href{https://apple.github.io/foundationdb/api-c.html\#transaction}{\texttt{ https\+://apple.\+github.\+io/foundationdb/api-\/c.\+html\#transaction}} 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a20816970aaea286615a3d9ab9defaf10}\label{classffdb_1_1fdb__transaction_a20816970aaea286615a3d9ab9defaf10}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!commit@{commit}}
\index{commit@{commit}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{commit()}{commit()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::commit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Commit the current transaction. 

\begin{DoxySeeAlso}{See also}
\href{https://apple.github.io/foundationdb/api-c.html\#c.fdb_transaction_commit}{\texttt{ https\+://apple.\+github.\+io/foundationdb/api-\/c.\+html\#c.\+fdb\+\_\+transaction\+\_\+commit}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_aefcc15e4b73d35b083815b0b40771fb0}\label{classffdb_1_1fdb__transaction_aefcc15e4b73d35b083815b0b40771fb0}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!del@{del}}
\index{del@{del}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{del()}{del()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::del (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key }\end{DoxyParamCaption})}



Remove a selected key from the DB. 


\begin{DoxyParams}{Parameters}
{\em key} & to delete in foundationdb \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_aeff438de4c0e7d5d0310dca6b9536565}\label{classffdb_1_1fdb__transaction_aeff438de4c0e7d5d0310dca6b9536565}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!del\_range@{del\_range}}
\index{del\_range@{del\_range}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{del\_range()}{del\_range()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::del\+\_\+range (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key\+\_\+begin,  }\item[{const std\+::string \&}]{key\+\_\+end }\end{DoxyParamCaption})}



Delete the range of key value between the provided begin and end inclusive. 


\begin{DoxyParams}{Parameters}
{\em key\+\_\+begin} & key to start the deletion from (included) \\
\hline
{\em key\+\_\+end} & deletion up to that key (included) \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_ac09d2450efd1ed1d6fd1a6c66ce437b6}\label{classffdb_1_1fdb__transaction_ac09d2450efd1ed1d6fd1a6c66ce437b6}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!enable\_snapshot@{enable\_snapshot}}
\index{enable\_snapshot@{enable\_snapshot}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{enable\_snapshot()}{enable\_snapshot()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::enable\+\_\+snapshot (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Enable snapshot. 

\begin{DoxySeeAlso}{See also}
\href{https://apple.github.io/foundationdb/api-c.html\#snapshot-reads}{\texttt{ https\+://apple.\+github.\+io/foundationdb/api-\/c.\+html\#snapshot-\/reads}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a56da24525cb4a3b73840cf3ce5fb729a}\label{classffdb_1_1fdb__transaction_a56da24525cb4a3b73840cf3ce5fb729a}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!get@{get}}
\index{get@{get}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{structffdb_1_1fdb__result}{fdb\+\_\+result}} $>$ ffdb\+::fdb\+\_\+transaction\+::get (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key }\end{DoxyParamCaption})}



Get the key value at the specified key in foundationdb. 


\begin{DoxyParams}{Parameters}
{\em key} & to retrieve from the database \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a key value structure if present, std\+::nullopt otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a957417155dc46f4edd9a3452d6d4e1d9}\label{classffdb_1_1fdb__transaction_a957417155dc46f4edd9a3452d6d4e1d9}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!get\_range@{get\_range}}
\index{get\_range@{get\_range}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{get\_range()}{get\_range()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structffdb_1_1range__result}{range\+\_\+result}} ffdb\+::fdb\+\_\+transaction\+::get\+\_\+range (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{from,  }\item[{const std\+::string \&}]{to,  }\item[{\mbox{\hyperlink{structffdb_1_1range__options}{range\+\_\+options}}}]{opt = {\ttfamily \{\}} }\end{DoxyParamCaption})}



Efficiently retrieve a full (depending on the potential limitation in the given option) range following the provided options. 

In the case the full list is not wanted, consider using Iterators (\mbox{\hyperlink{classffdb_1_1free__fdb_aa1a69bfe77cd2eb4b83a57108ece3747}{free\+\_\+fdb\+::make\+\_\+iterator}}) which are more convenient to use and would save cpu/memory usage.


\begin{DoxyParams}{Parameters}
{\em from} & key from where to start the range (inclusive/exclusive depending on options) \\
\hline
{\em to} & key to end the range selection (inclusive/exclusive depending on options) \\
\hline
{\em opt} & additional options for selection (limit / inclusion / exclusion etc..)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
range found from the foundation db respecting the provided options.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{https://apple.github.io/foundationdb/api-c.html\#c.FDBStreamingMode}{\texttt{ https\+://apple.\+github.\+io/foundationdb/api-\/c.\+html\#c.\+F\+D\+B\+Streaming\+Mode}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a2edfd78ad4bbafca819faf470cf4fbbc}\label{classffdb_1_1fdb__transaction_a2edfd78ad4bbafca819faf470cf4fbbc}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!put@{put}}
\index{put@{put}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{put()}{put()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::put (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key,  }\item[{const std\+::string \&}]{value }\end{DoxyParamCaption})}



Insert a new key / value pair in foundationdb. 


\begin{DoxyParams}{Parameters}
{\em key} & to insert \\
\hline
{\em value} & to insert \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a8bd1861b1f4dd0361da5244a681e18a5}\label{classffdb_1_1fdb__transaction_a8bd1861b1f4dd0361da5244a681e18a5}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!raw@{raw}}
\index{raw@{raw}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{raw()}{raw()}}
{\footnotesize\ttfamily F\+D\+B\+Transaction $\ast$ ffdb\+::fdb\+\_\+transaction\+::raw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyWarning}{Warning}
this method is for internal purpose only and should not be used in order to improvise C A\+PI calls 
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
the raw C A\+PI foundationdb transaction encapsulated in the current transaction 
\end{DoxyReturn}
\mbox{\Hypertarget{classffdb_1_1fdb__transaction_a944b03ce5aaddf4464174b3a85bc8aba}\label{classffdb_1_1fdb__transaction_a944b03ce5aaddf4464174b3a85bc8aba}} 
\index{ffdb::fdb\_transaction@{ffdb::fdb\_transaction}!reset@{reset}}
\index{reset@{reset}!ffdb::fdb\_transaction@{ffdb::fdb\_transaction}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void ffdb\+::fdb\+\_\+transaction\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Reset the current transaction to its original state. 

\begin{DoxySeeAlso}{See also}
\href{https://apple.github.io/foundationdb/api-c.html\#c.fdb_transaction_reset}{\texttt{ https\+://apple.\+github.\+io/foundationdb/api-\/c.\+html\#c.\+fdb\+\_\+transaction\+\_\+reset}} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/free\+\_\+fdb/ffdb.\+hh\item 
src/ffdb.\+cpp\end{DoxyCompactItemize}
